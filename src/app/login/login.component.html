<article class="login">

    <header>

        <a class="spotify" routerLink="/">
            <img class="logo" src="../assets/logo.svg" alt="spotify logo" />
            <span>Spotify</span>
        </a>

    </header>


    <form #form="ngForm">

        <mat-form-field appearance="outline">
          
            <mat-label>Email</mat-label>

            <input type="email" matInput name="email" [(ngModel)]="user.email" #email="ngModel" placeholder="Ex. pat@example.com" required
                pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$">
            
            <mat-error *ngIf="(email.touched || email.dirty) && email.errors?.['required']">
                Email is required
            </mat-error>

            <mat-error *ngIf="(email.touched || email.dirty) && email.errors?.['pattern']">
                Please enter a valid email address
            </mat-error>

        </mat-form-field>

        <mat-form-field appearance="outline">
          
            <mat-label>Password</mat-label>

            <input type="password" matInput name="password" [(ngModel)]="user.password" #password="ngModel" required pattern="^(?=.*\d).{8,}$">
            
            <mat-error *ngIf="(password.touched || password.dirty) && password.errors?.['required']">
                Password is required
            </mat-error>

            <mat-error *ngIf="(password.touched || password.dirty) && password.errors?.['pattern']">
                Please enter a valid Password
            </mat-error>

        </mat-form-field>

        <button (click)="loginUser()">
            Log in
        </button>

        <footer>
            Don't have an account?
            <a routerLink="/register">Sign up</a>
        </footer>

    </form>

    <!-- <pre>{{form.value | json}}</pre> -->

</article>